<!DOCTYPE html>

<!-- Licensed under the Apache License. See footer for details. -->

<html lang="en" ng-app="um-radio">

<!-- ======================================================================= -->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" href="images/icon.png" />

  <title>User-Modeled Radio</title>

  <link href="bower/bootstrap/css/bootstrap.min.css"       rel="stylesheet">
  <link href="bower/bootstrap/css/bootstrap-theme.min.css" rel="stylesheet">

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

  <link rel="stylesheet" href="css/index.css" />
</head>

<!-- ======================================================================= -->
<body ng-controller="BodyController">

  <div class="container-fluid">

    <div class="row">
      <div class="col-xs-12">
          <h1>User-Modeled Radio</h1>
          <p>Enter a twitter search string in the field below.  This will:

          <ul>
            <li>search for the relevant <a href="https://twitter.com">twitter</a> messages
            <li>score the messages with the <a href="http://www.ibm.com/smarterplanet/us/en/ibmwatson/developercloud/user-modeling.html">Watson User Modeling</a> service
            <li>pick a mix to play from <a href="https://8tracks.com/">8tracks</a> based on the score
          </ul>

          <p>You can also click on the tweeter's icon to search for twitter
            messages from that user.
      </div>
    </div>

    <div class="row">
      <div class="col-xs-12">
        <form role="form" ng-submit="twitterSearchEntered()">
          <div class="form-group">
            <label for="twitterSearchText">
              Twitter Search
              <a target="_blank" href="https://support.twitter.com/articles/71577-using-advanced-search">
                <span class="glyphicon glyphicon-question-sign"</span>
              </a>
            </label>
            <input
              type="text" class="form-control"
              ng-model="twitterSearchText" id="twitterSearchText"
              placeholder="Enter a twitter search here"
            >
          </div>
        </form>
      </div>
    </div>

    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-primary">
          <div class="panel-heading"><strong>mix</strong></div>
          <div class="panel-body">

            <div ng-if="mixMessage" class="alert alert-info" >
              {{mixMessage}}
            </div>

            <div ng-if="mix">
              <img ng-src="{{mix.image}}">

              <p><a href="{{mix.url}}">{{mix.name}}</a>

              <p><audio DONOTautoplay controls
                src="https://api.soundcloud.com/tracks/45734051/stream?client_id=3904229f42df3999df223f6ebf39a8fe"
              >
                Your browser does not support the <code>audio</code> element.
              </audio>
            </div>

          </div>
        </div>
      </div>
    </div>

    <div class="row">

      <div class="col-xs-12 col-sm-6">
        <div class="panel panel-primary">
          <div class="panel-heading"><strong>tweets</strong></div>
          <div class="panel-body">
            <div ng-if="tweetsMessage" class="alert alert-info" >
              {{tweetsMessage}}
            </div>
            <div ng-if="!tweetsMessage">
              <table class="table table-striped">
                <tr ng-repeat="tweet in tweets">
                  <td>
                    <img width="64" height="64"
                      ng-src="{{tweet.user.icon}}"
                      ng-click="twitterSearchPerform(tweet.user.screen_name)"
                    >
                  <td>{{tweet.text}}
              </table>
            </div>
          </div>
        </div>
      </div>

      <div class="col-xs-12 col-sm-6">
        <div class="panel panel-primary">
          <div class="panel-heading"><strong>user-model</strong></div>
          <div class="panel-body">
            <div ng-if="scoresMessage" class="alert alert-info" >
              {{scoresMessage}}
            </div>
            <div ng-if="!scoresMessage">
              <table class="table table-striped">
                <tr ng-repeat="score in scores">
                  <td>{{score.score | number : 2}}
                  <td>{{score.name}}
              </table>
            </div>
          </div>
        </div>
      </div>

    </div>

    <div class="row">
      <div class="col-xs-12">
        <hr>
        <p>
        Powered by <a href="https://bluemix.net">Bluemix</a>.
        Fork me at <a href="https://github.com/pmuellr/um-radio">github.com/pmuellr/um-radio</a>
      </div>
    </div>

  </div>

<script src="bower/jquery/jquery.min.js"></script>
<script src="bower/bootstrap/js/bootstrap.min.js"></script>
<script src="bower/angular/angular.min.js"></script>
<script src="bower/angular-resource/angular-resource.min.js"></script>
<script src="scripts/twitter.js"></script>
<script src="scripts/tracks.js"></script>
<script src="scripts/user-model.js"></script>
<script src="scripts/um2tracks8.js"></script>
<script src="scripts/index.js"></script>

<!-- ======================================================================= -->
</body>
</html>

<!--
//==============================================================================
// Copyright IBM Corp. 2014
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//    http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
//==============================================================================
-->
